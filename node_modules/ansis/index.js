"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=e=>{let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],r=t?t.length:0;if(3===r)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==r)return[0,0,0];let n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]},t=(e,t,r)=>t>e?t:e>r?r:e,r=(e,t,r)=>{if(""===t)return e;let n=e.indexOf(t);if(n<0)return e;let o=t.length,i=0,l="";for(;~n;)l+=e.slice(i,n)+r,i=n+o,n=e.indexOf(t,i);return l+e.slice(i)},n={open:"",close:""},o=(e=>{const t=e=>!!i.find((t=>e.test(t))),r=globalThis,n=null!=r.Deno,o=r.process||r.Deno||{},i=o.argv||o.args||[];let l={};try{l=n?o.env.toObject():o.env||{}}catch(e){}const g="FORCE_COLOR",s=g in l,c=l[g],a="true"===c||parseInt(c,10)>0,b="NO_COLOR"in l||s&&!a||t(/^-{1,2}(no-color|color=false|color=never)$/),u=s&&a||t(/^-{1,2}(color|color=true|color=always)$/),p="win32"===(n?r.Deno.build.os:o.platform),h=n?r.Deno.isatty(1):o.stdout&&"isTTY"in o.stdout,d=(l.NEXT_RUNTIME||"").indexOf("edge")>-1,f=(h||d)&&/^screen|^tmux|^xterm|^vt[1-5][0-9][0-9]|^ansi|color|cygwin|linux|mintty|rxvt/i.test(l.TERM);return!b&&(u||f||p||"CI"in l)})()?(e,t)=>({open:`[${e}m`,close:`[${t}m`}):()=>n,i=(e,t,r)=>o(`38;2;${e};${t};${r}`,39),l=(e,t,r)=>o(`48;2;${e};${t};${r}`,49),g={visible:n,reset:o(0,0),inverse:o(7,27),hidden:o(8,28),bold:o(1,22),dim:o(2,22),faint:o(2,22),italic:o(3,23),underline:o(4,24),doubleUnderline:o(21,24),strikethrough:o(9,29),strike:o(9,29),frame:o(51,54),encircle:o(52,54),overline:o(53,55),black:o(30,39),red:o(31,39),green:o(32,39),yellow:o(33,39),blue:o(34,39),magenta:o(35,39),cyan:o(36,39),white:o(37,39),grey:o(90,39),gray:o(90,39),blackBright:o(90,39),redBright:o(91,39),greenBright:o(92,39),yellowBright:o(93,39),blueBright:o(94,39),magentaBright:o(95,39),cyanBright:o(96,39),whiteBright:o(97,39),bgBlack:o(40,49),bgRed:o(41,49),bgGreen:o(42,49),bgYellow:o(43,49),bgBlue:o(44,49),bgMagenta:o(45,49),bgCyan:o(46,49),bgWhite:o(47,49),bgGrey:o(100,49),bgGray:o(100,49),bgBlackBright:o(100,49),bgRedBright:o(101,49),bgGreenBright:o(102,49),bgYellowBright:o(103,49),bgBlueBright:o(104,49),bgMagentaBright:o(105,49),bgCyanBright:o(106,49),bgWhiteBright:o(107,49)},s={fg:e=>(e=>o(`38;5;${e}`,39))(t(e,0,255)),bg:e=>(e=>o(`48;5;${e}`,49))(t(e,0,255)),hex:t=>i(...e(t)),bgHex:t=>l(...e(t)),rgb:(e,r,n)=>i(t(e,0,255),t(r,0,255),t(n,0,255)),bgRgb:(e,r,n)=>l(t(e,0,255),t(r,0,255),t(n,0,255))},c={},{defineProperty:a,defineProperties:b,setPrototypeOf:u}=Object,p=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,h=/(\r*\n)/g,d=({props:e},{open:t,close:n})=>{const o=(e,...t)=>((e,t,n)=>{if(!e)return"";const{openStack:o,closeStack:i}=n;let l=null!=e.raw?String.raw(e,...t):e+"";if(~l.indexOf(""))for(;null!=n;)l=r(l,n.close,n.open),n=n.props;return~l.indexOf("\n")&&(l=l.replace(h,i+"$1"+o)),o+l+i})(e,t,o.props);let i=t,l=n;return null!=e&&(i=e.openStack+t,l=n+e.closeStack),u(o,B),o.props={open:t,close:n,openStack:i,closeStack:l,props:e},o.open=i,o.close=l,o},f=function(){const t=e=>e+"";return t.strip=e=>e.replace(p,""),t.extend=r=>{for(let t in r){let n=r[t],o=null!=n.open?n:i(...e(n));c[t]={get(){const e=d(this,o);return a(this,t,{value:e}),e}}}B=b({},c),u(t,B)},t.extend(g),t};for(let e in s)c[e]={get(){return(...t)=>d(this,s[e](...t))}};let B;c.ansi256=c.ansi=c.fg,c.bgAnsi256=c.bgAnsi=c.bg;const y=new f;module.exports=y,module.exports.Ansis=f;
